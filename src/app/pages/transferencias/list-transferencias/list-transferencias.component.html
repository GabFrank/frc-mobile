<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="onBack()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title style="text-align: center">Lista de Transferencias</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="openFilterMenu()">
        <ion-icon
        name="funnel"
        style="font-size: 1.5em"
      ></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content style="width: 100%">
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <ion-card
          class="item"
          *ngFor="let transferencia of transferenciaList"
          [class.test]="transferencia.etapa === 'RECEPCION_CONCLUIDA'"
          (click)="onItemClick(transferencia)"
        >
          <div
            [class.en-origen]="
              transferencia.etapa === 'PRE_TRANSFERENCIA_CREACION' ||
              transferencia.etapa === 'PRE_TRANSFERENCIA_ORIGEN'
            "
            [class.en-origen-preparacion]="
              transferencia.etapa === 'PREPARACION_MERCADERIA' ||
              transferencia.etapa === 'PREPARACION_MERCADERIA_CONCLUIDA'
            "
            [class.en-origen-transito]="
              transferencia.etapa === 'TRANSPORTE_VERIFICACION' ||
              transferencia.etapa === 'TRANSPORTE_EN_CAMINO' ||
              transferencia.etapa === 'TRANSPORTE_EN_DESTINO'
            "
            [class.en-destino-recepcion]="
              transferencia.etapa === 'RECEPCION_EN_VERIFICACION'
            "
            [class.en-destino-recepcion-concluida]="
              transferencia.etapa === 'RECEPCION_CONCLUIDA'
            "
          >
            <ion-grid>
              <ion-row>
                <ion-col size="4"> Id: {{ transferencia?.id }} </ion-col>
                <ion-col size="8">
                  Fecha: {{ transferencia?.creadoEn | date: 'short' }}
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="5">
                  {{ transferencia?.sucursalOrigen?.nombre | titlecase }}
                </ion-col>
                <ion-col size="2">
                  <ion-icon name="arrow-forward"></ion-icon>
                </ion-col>
                <ion-col size="5">
                  {{ transferencia?.sucursalDestino?.nombre | titlecase }}
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="12"> Etapa: {{ transferencia.etapa }} </ion-col>
              </ion-row>
            </ion-grid>
          </div>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
