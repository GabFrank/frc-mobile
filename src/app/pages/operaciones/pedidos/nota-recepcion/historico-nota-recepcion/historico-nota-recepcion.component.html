<ion-content>
  <ion-row style="align-items: center;">
    <ion-col size="2">
      <ion-icon
        name="arrow-back"
        style="font-size: 1.5em"
        (click)="onBack()"
      ></ion-icon>
    </ion-col>
    <ion-col size="8" style="text-align: center"
      >Historico de recepci√≥n</ion-col
    >
  </ion-row>
  <ion-list style="background-color: unset">
    <ion-card
      *ngFor="
        let notaRecepcionAgrupada of notaRecepcionAgrupadaList;
        let i = index
      "
    >
      <ion-grid fixed>
        <ion-row>
          <ion-col size="12" class="title center">Proveedor</ion-col>
        </ion-row>
        <ion-row style="align-items: center">
          <ion-col size="12" class="center">{{
            notaRecepcionAgrupada?.proveedor?.persona?.nombre | uppercase
          }}</ion-col>
        </ion-row>
        <!-- <ion-row>
          <ion-col size="12" class="title center">Responsable</ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12" class="center">{{
            notaRecepcionAgrupada?.usuario?.persona?.nombre | uppercase
          }}</ion-col>
        </ion-row> -->
        <ion-row>
          <ion-col size="4" class="title center">Fecha</ion-col>
          <ion-col size="4" class="title center">Cant. notas</ion-col>
          <ion-col size="4" class="title center">Estado</ion-col>
        </ion-row>
        <ion-row style="text-align: center; font-size: small">
          <ion-col size="4">{{
            notaRecepcionAgrupada?.creadoEn | date : 'short'
          }}</ion-col>
          <ion-col size="4">{{ notaRecepcionAgrupada?.cantNotas }}</ion-col>
          <ion-col
            size="4"
            [class.en_recepcion]="
              notaRecepcionAgrupada.estado == 'EN_RECEPCION'
            "
            [class.cancelado]="notaRecepcionAgrupada.estado == 'CANCELADO'"
            [class.concluido]="notaRecepcionAgrupada.estado == 'CONCLUIDO'"
            >{{ notaRecepcionAgrupada?.estado | enumToString }}</ion-col
          >
        </ion-row>
        <ion-row style="text-align: center; align-items: center">
          <ion-col size="6" offset="3">
            <ion-button
              (click)="onItemClick(notaRecepcionAgrupada)"
              expand="block"
              class="btn-success"
            >
              Abrir
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card>
  </ion-list>
</ion-content>
<ion-footer>
  <ng-container *ngIf="this.notaRecepcionAgrupadaList?.length > 0">
    <app-paginacion
      [pageData]="selectedPageInfo"
      [pageIndex]="pageIndex"
      (pageChange)="handlePagination($event)"
    ></app-paginacion>
  </ng-container>
</ion-footer>
