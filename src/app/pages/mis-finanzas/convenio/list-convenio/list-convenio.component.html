<ion-content style="width: 100%">
  <ion-row>
    <ion-col size="2">
      <ion-icon
        name="arrow-back"
        style="font-size: 1.5em"
        (click)="onBack()"
      ></ion-icon>
    </ion-col>
    <ion-col size="8" style="text-align: center">Lista de convenios</ion-col>
    <ion-col size="2" style="text-align: center">
      <ion-icon
        name="funnel"
        style="font-size: 1.5em"
        (click)="openFilterMenu()"
      ></ion-icon>
    </ion-col>
  </ion-row>
  <div style="padding-left: 5px; padding-right: 5px">
    <ion-row>
      <ion-col size="8"> Convenios del mes: </ion-col>
      <ion-col size="4" style="text-align: end">
        {{ totalVentaCredito | number: '1.0-0' }}
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="8"> Crédito: </ion-col>
      <ion-col size="4" style="text-align: end">
        {{ selectedCliente?.credito | number: '1.0-0' }} Gs.
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="8"> Utilizado: </ion-col>
      <ion-col size="4" style="text-align: end">
        {{ totalAbiertos | number: '1.0-0' }} Gs.
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="8"> Saldo: </ion-col>
      <ion-col size="4" style="text-align: end">
        {{ selectedCliente?.saldo | number: '1.0-0' }} Gs.
      </ion-col>
    </ion-row>
  </div>
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <ion-card
          class="item"
          *ngFor="let ventaCredito of ventaCreditoList"
          (click)="onItemClick(ventaCredito)"
        >
          <div>
            <ion-grid>
              <ion-row>
                <ion-col size="6">Venta: {{ ventaCredito.venta.id }}</ion-col>
                <ion-col size="6"
                  >Fecha: {{ ventaCredito.creadoEn | date: 'short' }}</ion-col
                >
              </ion-row>
              <ion-row>
                <ion-col size="12"
                  >Sucursal:
                  {{ ventaCredito.sucursal.nombre | titlecase }}</ion-col
                >
              </ion-row>
              <ion-row>
                <ion-col size="12"
                  >Cajero:
                  {{
                    ventaCredito.venta.usuario.persona.nombre | titlecase
                  }}</ion-col
                >
              </ion-row>
              <ion-row>
                <ion-col size="12"
                  >Confirmación:
                  {{ ventaCredito.tipoConfirmacion | titlecase }}</ion-col
                >
              </ion-row>
              <ion-row>
                <ion-col size="12"
                  >Estado: {{ ventaCredito.estado | titlecase }}</ion-col
                >
              </ion-row>
              <ion-row>
                <ion-col size="12">
                  <div class="totales">Total</div>
                  <div class="valores success">
                    Gs. {{ ventaCredito.valorTotal | number: '1.0-0' }}
                  </div>
                </ion-col>
              </ion-row>
              <ion-row style="width: 100%">
                <ion-col size="12" class="center">
                  <ion-button
                    fill="clear"
                    class="btn-success-flat"
                    (click)="openVentaDetalle(ventaCredito.venta)"
                    >VER DETALLE</ion-button
                  >
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
